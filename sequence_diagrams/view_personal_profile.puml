@startuml

title Sequence diagram for View personal profile

actor User
boundary ProfilePage as "UI"
control UserController
participant UserService
participant Database as "UserDB"

== View Personal Profile ==
User -> ProfilePage: (1) Click "My profile"
activate ProfilePage
ProfilePage -> UserController: (2) Send request with user authentication
activate UserController
UserController -> UserService: (3) Fetch profile data
activate UserService
UserService -> Database: (4) Retrieve user data by userId
activate Database
Database --> UserService: (5) Return user data
deactivate Database

alt User data found
    UserService -> UserService: (6) Validate user data
    UserService --> UserController: (7) Return user profile data
    deactivate UserService
    UserController --> ProfilePage: (8) Send user profile data
    deactivate UserController
    ProfilePage --> User: (9) Display personal profile
    deactivate ProfilePage
else User data not found
    UserService --> UserController: (6) Return error "User not found"
    deactivate UserService
    UserController --> ProfilePage: (7) Show error message
    deactivate UserController
    ProfilePage --> User: (8) Display error message
    deactivate ProfilePage
end

@enduml